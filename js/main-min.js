$(function(){$('[data-toggle="tooltip"]').tooltip(),$("#searsh-icon").click(function(){$(".searsh-input").fadeToggle(300)});let t=$("#fixed-navbar"),a=$("#fixed-navbar .the-navbar");$("nav .humbergur").click(function(){t.addClass("open"),a.addClass("show")}),$("#fixed-navbar, #fixed-navbar .the-navbar .close").click(function(){t.removeClass("open"),a.removeClass("show")}),$("#fixed-navbar .the-navbar").click(function(t){t.stopPropagation()}),$(".main-product .image-container img").hover(function(){$(this).attr("src","images/main-p2.jpg")}),$(".main-product .image-container img").mouseleave(function(){$(this).attr("src","images/main-p.jpg")}),$(".owl-carousel").owlCarousel({loop:!0,margin:10,responsiveClass:!0,dots:!1,loop:!0,responsive:{0:{items:2,nav:!0},567:{items:3,nav:!1},768:{items:4,nav:!0,loop:!1}}});$(".account .titles span");$(".account .up-btn").click(function(){$(this).addClass("active"),$(".account .in-btn").removeClass("active"),$(".account #sign-in").fadeOut(100),$(".account #sign-up").delay(500).fadeIn(500)}),$(".account .in-btn").click(function(){$(this).addClass("active"),$(".account .up-btn").removeClass("active"),$(".account #sign-up").fadeOut(100),$(".account #sign-in").delay(500).fadeIn(500)});var e=$("nav").innerHeight();function n(){var t=listCart(),a="";for(var e in t)a+=`<tr>\n            <td class="p-image">\n            <div><img class="img-fluid" src="${t[e].src}" alt="product picture" /></div>\n            </td>\n            <td class="name">${t[e].name}</td>\n            <td class="price">$${t[e].price}</td>\n            <td class="counter">${t[e].count}</td>\n            <td class="total">${(t[e].price*t[e].count).toFixed(2)}</td>\n            <td>\n            <button class="add-one" data-name="${t[e].name}">+</button>\n            <button class="remove-one" data-name="${t[e].name}">-</button>\n            </td>\n            <td><i class="fas fa-trash-alt remove-item" data-toggle="tooltip" data-placement="top" title="Remove" data-name="${t[e].name}"></i></td>\n        </tr>`;$("#cart-Items").html(a),$(".cart-details .total-price").text("$"+totalCost()),$("#has-item").text(cartCount()),saveCart();var n="";if(""===a)n="<p>cart Is Empty</p>";else for(var e in t)n+=`<li><img src="${t[e].src}" alt="product picture" />${t[e].name}<span>$${t[e].price}</sapn></li>`;$(".small-cart").html(n)}$(".small-cart").css("top",e),$(".cart").hover(function(){$(".small-cart").fadeIn(100)}),$(".cart").mouseleave(function(){$(".small-cart").fadeOut(100)}),$(".veiw").click(function(){let t=$(this).data("name"),a=$(this).data("price"),e=$(this).data("src"),n=$(this).data("old");$(".view-product .p-img img").attr("src",e),$(".view-product .p-name").text(t),$(".view-product .p-price").html("$"+a+" <span>$"+n+"</span>"),$(".view-product .add-to-cart").attr("data-name",t),$(".view-product .add-to-cart").attr("data-price",a),$(".view-product .add-to-cart").attr("data-src",e)}),$(".add-to").click(function(){addItem($(this).data("name"),$(this).data("price"),$(this).data("src"),1),n()}),$("#cart-Items").on("click",".remove-item",function(t){t.preventDefault(),removeTheItem($(this).data("name")),n()}),$("#cart-Items").on("click",".remove-one",function(t){t.preventDefault(),removeOneItem($(this).data("name")),n()}),$("#cart-Items").on("click",".add-one",function(t){t.preventDefault(),addItem($(this).data("name"),0,1),n()}),n()});var cart=[],Item=function(t,a,e,n){this.name=t,this.price=a,this.src=e,this.count=n};function addItem(t,a,e,n){for(var r in cart)if(cart[r].name===t)return void cart[r].count++;var c=new Item(t,a,e,n);cart.push(c),saveCart()}function removeOneItem(t){for(var a in cart)cart[a].name===t&&cart[a].count--,0===cart[a].count&&cart.splice(a,1);saveCart()}function removeTheItem(t){for(var a in cart)if(cart[a].name===t){cart.splice(a,1);break}saveCart()}function clearCart(){cart=[],saveCart()}function cartCount(){var t=0;for(var a in cart)t+=cart[a].count;return t}function totalCost(){var t=0;for(var a in cart)t+=Number(cart[a].price)*cart[a].count;return t.toFixed(2)}function listCart(){var t=[];for(var a in cart){var e=cart[a],n={};for(var r in e)n[r]=e[r];t.push(n)}return t}function saveCart(){localStorage.setItem("theShoopingCart",JSON.stringify(cart))}function loadCart(){cart=null===localStorage.getItem("theShoopingCart")?[]:JSON.parse(localStorage.getItem("theShoopingCart"))}loadCart();
